import { View, Text, TouchableOpacity , FlatList} from 'react-native'
import React from 'react'
import { Path, Svg } from 'react-native-svg'
import { AntDesign } from '@expo/vector-icons';
import { useFonts } from 'expo-font';
import { useCategoryQuery } from '../redux/apiSlice/userApiAlice';
import { useNavigation } from '@react-navigation/native';


const CategoryScreen = ({navigation}) => {
  const {data:category,isFetching} = useCategoryQuery();
  const [Fontsloaded]= useFonts({
    "indieflower": require('../assets/fonts/IndieFlower-Regular.ttf'),
    "outfit": require('../assets/fonts/NotoSansNKoUnjoined-VariableFont_wght.ttf'),
    
})
if(!Fontsloaded){
    return undefined;
}
       const numColumns = 2
  return (
    <View style={{padding:40,paddingTop:60}}>
        <View style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>
            <TouchableOpacity onPress={()=>navigation.goBack()}><AntDesign name="arrowleft" size={24} color="black" /></TouchableOpacity>
            <Text style={{fontSize:18,fontWeight:600,fontFamily:'outfit'}}>Categories</Text>
            <Text></Text>
        </View>
    <View style={{width:'100%',alignItems:'center',justifyContent:'space-between'}}>
        <TouchableOpacity style={{marginTop:50,alignItems:'center'}}>
        <Svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 51 52" fill="none">
          <Path d="M42.7859 49.5539L10.6694 1.82067L12.2482 0.671982L44.3647 48.4052L42.7859 49.5539Z" fill="#8C8C8C"/>
          <Path d="M46.4446 48.9795C46.4446 50.2059 45.4886 51.2 44.3094 51.2H43.5753L43.3534 50.9657C42.6539 50.6012 42.1741 49.8486 42.1741 48.9795C42.1741 48.1105 42.6545 47.3578 43.3534 46.9934L43.4605 46.7591H44.3094C45.4886 46.7583 46.4446 47.7525 46.4446 48.9795Z" fill="#383838"/>
          <Path d="M43.5753 51.2C42.396 51.2 41.44 50.2059 41.44 48.9795C41.44 47.7532 42.396 46.7591 43.5753 46.7591C44.7545 46.7591 45.7105 47.7525 45.7105 48.9795C45.7105 50.2066 44.7545 51.2 43.5753 51.2Z" fill="black"/>
          <Path d="M43.5753 50.3784C42.8322 50.3784 42.2301 49.7523 42.2301 48.9795C42.2301 48.2068 42.8322 47.5807 43.5753 47.5807C44.3183 47.5807 44.9204 48.2068 44.9204 48.9795C44.9204 49.7515 44.3183 50.3784 43.5753 50.3784Z" fill="#383838"/>
          <Path d="M25.6238 47.8078C25.6238 49.6811 24.1632 51.2 22.3618 51.2H21.2406L20.9012 50.8413C19.8332 50.2842 19.0998 49.1348 19.0998 47.8078C19.0998 46.4809 19.8332 45.3315 20.9012 44.7744L21.065 44.4157H22.3611C24.1632 44.4157 25.6238 45.9346 25.6238 47.8078Z" fill="#383838"/>
          <Path d="M21.2406 51.2C19.4392 51.2 17.9786 49.6811 17.9786 47.8078C17.9786 45.9346 19.4392 44.4157 21.2406 44.4157C23.042 44.4157 24.5026 45.9346 24.5026 47.8078C24.5026 49.6811 23.042 51.2 21.2406 51.2Z" fill="black"/>
          <Path d="M21.2406 49.9442C20.1056 49.9442 19.1862 48.9874 19.1862 47.8078C19.1862 46.6282 20.1063 45.6715 21.2406 45.6715C22.3756 45.6715 23.295 46.6282 23.295 47.8078C23.295 48.9874 22.3756 49.9442 21.2406 49.9442Z" fill="#383838"/>
          <Path d="M44.4532 43.9937V47.4851C44.4532 48.2621 43.8469 48.8925 43.0997 48.8925H32.8099C32.0627 48.8925 31.4565 48.2621 31.4565 47.4851V43.9937H44.4532Z" fill="#F9DE67"/>
          <Path d="M34.2083 43.9937V47.4851C34.2083 48.2621 33.6021 48.8925 32.8548 48.8925H14.7568C14.0095 48.8925 13.4033 48.2621 13.4033 47.4851V43.9937H34.2083Z" fill="#FFB648"/>
          <Path d="M16.2167 47.8078C16.2167 49.6811 14.7561 51.2 12.9547 51.2H11.8335L11.4941 50.8413C10.4261 50.2842 9.69272 49.1348 9.69272 47.8078C9.69272 46.4809 10.4261 45.3315 11.4941 44.7744L11.6579 44.4157H12.954C14.7561 44.4157 16.2167 45.9346 16.2167 47.8078Z" fill="#383838"/>
          <Path d="M11.8335 51.2C10.0321 51.2 8.57153 49.6811 8.57153 47.8078C8.57153 45.9346 10.0321 44.4157 11.8335 44.4157C13.6349 44.4157 15.0955 45.9346 15.0955 47.8078C15.0955 49.6811 13.6349 51.2 11.8335 51.2Z" fill="black"/>
          <Path d="M11.8335 49.9442C10.6985 49.9442 9.77911 48.9874 9.77911 47.8078C9.77911 46.6282 10.6992 45.6715 11.8335 45.6715C12.9678 45.6715 13.8879 46.6282 13.8879 47.8078C13.8879 48.9874 12.9685 49.9442 11.8335 49.9442Z" fill="#383838"/>
          <Path d="M34.5422 48.9795C34.5422 50.2059 33.5862 51.2 32.4069 51.2H31.6728L31.4509 50.9657C30.7514 50.6012 30.2717 49.8486 30.2717 48.9795C30.2717 48.1105 30.7521 47.3578 31.4509 46.9934L31.5581 46.7591H32.4069C33.5862 46.7583 34.5422 47.7525 34.5422 48.9795Z" fill="#383838"/>
          <Path d="M31.6728 51.2C30.4936 51.2 29.5376 50.2059 29.5376 48.9795C29.5376 47.7532 30.4936 46.7591 31.6728 46.7591C32.8521 46.7591 33.8081 47.7532 33.8081 48.9795C33.8081 50.2059 32.8521 51.2 31.6728 51.2Z" fill="black"/>
          <Path d="M31.6728 50.3784C30.9297 50.3784 30.3276 49.7523 30.3276 48.9795C30.3276 48.2068 30.9297 47.5807 31.6728 47.5807C32.4159 47.5807 33.0179 48.2068 33.0179 48.9795C33.0179 49.7515 32.4159 50.3784 31.6728 50.3784Z" fill="#383838"/>
          <Path d="M11.8328 48.8099C11.6517 48.8099 11.4678 48.7567 11.3054 48.6453C10.8602 48.3419 10.7365 47.7201 11.0282 47.2579L20.4567 32.312C20.7484 31.8491 21.3457 31.7204 21.7908 32.0238C22.236 32.3271 22.3597 32.9489 22.068 33.4111L12.6395 48.357C12.4542 48.651 12.1466 48.8099 11.8328 48.8099Z" fill="#8C8C8C"/>
          <Path d="M50.6336 26.2264C50.5382 28.4368 48.8149 30.2296 46.6886 30.2296H19.3473C17.2217 30.2296 15.4978 28.4375 15.4978 26.2264V16.2965H25.4814C25.4814 16.0844 25.4869 15.8731 25.4966 15.6632H25.4295V3.32806H37.7613C37.8262 3.32734 37.8905 3.32518 37.9555 3.32518C44.8444 3.32518 50.5389 9.13261 50.6342 16.2965V26.2264H50.6336Z" fill="#F9DE67"/>
          <Path d="M38.0972 16.2965V26.2264C38.0972 28.4368 36.4223 30.2296 34.3562 30.2296H7.78558C5.71946 30.2296 4.04459 28.4375 4.04459 26.2264V16.2965H25.4295V3.32806C25.4945 3.32734 25.5588 3.32518 25.6237 3.32518C32.5126 3.32518 38.0972 9.13261 38.0972 16.2965Z" fill="#FFB648"/>
          <Path d="M31.6735 49.9816C31.3624 49.9816 31.0576 49.8256 30.8717 49.5366L0.162583 1.80342C-0.0351121 1.49576 -0.0537756 1.1004 0.113505 0.774056C0.280785 0.447707 0.607742 0.244278 0.963731 0.244278H11.4588C11.9911 0.244278 12.4224 0.692828 12.4224 1.24633C12.4224 1.79983 11.9911 2.24838 11.4588 2.24838H2.76787L32.474 48.4217C32.7698 48.8818 32.6509 49.5043 32.2085 49.8119C32.044 49.9269 31.8581 49.9816 31.6735 49.9816Z" fill="#D1D1D1"/>
        </Svg>
        <Text style={{textAlign:'center'}}>New Product</Text>
        </TouchableOpacity>
        {isFetching ? <Text>Loading.....</Text> :
            <FlatList 
            numColumns={numColumns}
            data={category}
            keyExtractor={(item,index)=> index.toString()}
            renderItem={({item})=>{
              return <TouchableOpacity onPress={()=>navigation.navigate('popular',{id:item._id})}
               style={{width:140,height:140,gap:10,marginRight:15,marginTop:0,justifyContent:'center',alignItems:'center'}}>
                <Svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 32 32" fill="none">
                <Path d="M28.0555 20.3514L29.0005 19.7499L27.9265 19.1669C27.6795 18.5939 27.2435 18.3154 26.594 18.3154C26.1035 18.3154 25.6685 18.5129 25.375 18.8319V14.3754H27.5C28.327 14.3754 29 13.7024 29 12.8754C29 12.0484 28.327 11.3754 27.5 11.3754H26.9665L16.229 3.07838C16.094 2.97388 15.9055 2.97388 15.7705 3.07838L5.0335 11.3754H4.5C3.673 11.3754 3 12.0484 3 12.8754C3 13.7024 3.673 14.3754 4.5 14.3754H6.625V18.3804C6.625 18.4289 6.636 18.4744 6.6525 18.5169C6.178 18.7654 5.855 19.2209 5.855 19.7464C5.855 20.0694 5.984 20.3889 6.218 20.6454L6.328 20.7424L6.367 20.7504C6.3075 20.7414 6.2285 20.7344 6.138 20.7344C5.851 20.7344 5.409 20.8019 4.9295 21.1219C4.759 21.2364 4.625 21.3719 4.533 21.5194L4.62 21.3549L4.444 21.1599C4.2385 20.9329 4.03 20.8849 3.8915 20.8849C3.746 20.8849 3.6375 20.9344 3.5715 20.9699C2.967 21.2909 2.8425 21.8834 3.2015 22.7314C3.496 23.4254 4.3055 24.0414 5.2645 24.3009C5.592 24.3899 5.931 24.4349 6.2715 24.4349C7.101 24.4349 7.874 24.1719 8.5695 23.6534C9.2975 23.1099 9.6735 22.5224 9.688 21.9079C9.7085 21.0039 8.9285 20.3579 8.9215 20.3524L9.866 19.7509L8.792 19.1679C8.544 18.5949 8.1085 18.3164 7.4595 18.3164C7.4305 18.3164 7.4035 18.3229 7.3755 18.3239V14.3754H15.6255V21.2064C15.6255 21.2684 15.644 21.3239 15.6705 21.3754C15.1115 21.7259 14.7435 22.3189 14.7435 22.9899C14.7435 23.4479 14.924 23.8959 15.252 24.2509L15.337 24.3429L15.398 24.3539C15.3295 24.3439 15.2325 24.3344 15.1125 24.3344C14.7365 24.3344 14.1565 24.4264 13.5295 24.8624C13.319 25.0089 13.1515 25.1809 13.0315 25.3674L13.1215 25.2119L12.974 25.0139C12.681 24.6209 12.3765 24.5384 12.172 24.5384C11.963 24.5384 11.8075 24.6239 11.7485 24.6564C10.9565 25.0944 10.793 25.9009 11.264 27.0549C11.651 28.0034 12.7615 28.8689 14.0265 29.2079C14.437 29.3179 14.861 29.3734 15.287 29.3734C16.3765 29.3734 17.3905 29.0154 18.301 28.3094C19.254 27.5704 19.7475 26.7719 19.767 25.9354C19.796 24.6899 18.77 23.8209 18.7625 23.8144L20 22.9959L18.5925 22.2014C18.272 21.4319 17.685 21.0419 16.846 21.0419C16.6835 21.0419 16.527 21.0629 16.3755 21.0954V14.3754H24.6255V20.8494C24.449 20.9084 24.2615 20.9899 24.0645 21.1214C23.894 21.2354 23.761 21.3709 23.6685 21.5179L23.755 21.3549L23.5795 21.1599C23.3745 20.9324 23.1655 20.8844 23.0265 20.8844C22.8825 20.8844 22.774 20.9334 22.706 20.9699C22.1015 21.2909 21.977 21.8834 22.3365 22.7309C22.631 23.4249 23.4405 24.0409 24.3995 24.3004C24.7275 24.3894 25.0665 24.4344 25.4075 24.4344C26.237 24.4344 27.01 24.1719 27.7055 23.6529C28.4305 23.1114 28.8065 22.5264 28.823 21.9139C28.8455 21.0454 28.14 20.4224 28.0555 20.3514ZM6.2605 11.3754L14.767 4.80237L11.173 11.1914C11.14 11.2499 11.1305 11.3129 11.1305 11.3754H6.2605ZM11.9305 11.3754L16 4.14038L20.07 11.3754H11.9305ZM20.869 11.3754C20.869 11.3129 20.8595 11.2499 20.8265 11.1914L17.233 4.80237L25.7395 11.3754H20.869Z" fill="#FFB648"/>
                </Svg>
                <Text style={{fontFamily:'outfit',fontSize:16}}>{item.name}</Text>
               
              </TouchableOpacity>
            }}
            scrollEnabled={false}
        />
        }


</View>
</View>
)}
export default CategoryScreen